<?xml version="1.0" encoding="UTF-8"?>
<ejb-jar xmlns="http://java.sun.com/xml/ns/j2ee"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee
		  http://java.sun.com/xml/ns/j2ee/ejb-jar_2_1.xsd"
         version="2.1">

  <enterprise-beans>
      <session>
          <ejb-name>TravelAgentEJB</ejb-name>
          <home>com.titan.travelagent.TravelAgentHomeRemote</home>
          <remote>com.titan.travelagent.TravelAgentRemote</remote>
          <ejb-class>com.titan.travelagent.TravelAgentBean</ejb-class>
          <session-type>Stateless</session-type>
          <transaction-type>Container</transaction-type>
          <ejb-ref>
              <ejb-ref-name>ejb/CabinHomeRemote</ejb-ref-name>
              <ejb-ref-type>Entity</ejb-ref-type>
              <home>com.titan.cabin.CabinHomeRemote</home>
              <remote>com.titan.cabin.CabinRemote</remote>
          </ejb-ref>
          <security-identity>
              <use-caller-identity/>
          </security-identity>
      </session>

  </enterprise-beans>

    <assembly-descriptor>
        <security-role>
            <description>This role represents everyone who is allowed full access to the TravelAgent EJB</description>
            <role-name>everyone</role-name>
        </security-role>
        <method-permission>
            <role-name>everyone</role-name>
            <method>
                <ejb-name>TravelAgentEJB</ejb-name>
                <method-name>*</method-name>
            </method>
        </method-permission>
        <container-transaction>
            <method>
                <ejb-name>TravelAgentEJB</ejb-name>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
    </assembly-descriptor>

</ejb-jar>
